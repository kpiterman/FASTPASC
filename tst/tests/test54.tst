# Example from "3-deformations of 2-complexes and Morse Theory" by Ximena Fernandez.
# Barmak's presentation of ZxZ is Andrews-Curtis equivalent to the standard one.
# However these presentations are not Q* equivalent (Barmak).
gap> comm := {x,y}-> x*y*x^-1*y^-1;;
gap> F:=FreeGroup("x","y");;
gap> x:=F.1;; y:=F.2;;
gap> r1 := comm(x,comm(x,y^-1))^2*y*comm(y^-1,x)*y^-1;;
gap> r2 := comm(x,comm(comm(y^-1,x),x));;
gap> R:=[r1,r2];;
gap> G:=F/R;;
gap> M:= [ [ [ 1, "rb", 1, 5 ], [ 0, "r", 1 ] ], [ [ 1, "rg", 2, 7 ], [ 0, "r", 2 ] ], [ [ 2, "r", 1, 3, 1 ], [ 1, "rb", 1, 3 ] ], 
>    [ [ 2, "r", 1, 10, 1 ], [ 1, "rb", 1, 10 ] ], [ [ 1, "rg", 1, 20 ], [ 0, "g", 2 ] ], [ [ 2, "r", 1, 9, -1 ], [ 1, "gb", 2, -1 ] ], 
>    [ [ 2, "r", 2, 9, 1 ], [ 1, "rb", 2, 9 ] ], [ [ 2, "r", 2, 5, 1 ], [ 1, "rb", 2, 5 ] ], [ [ 2, "r", 2, 2, 1 ], [ 1, "rg", 2, 2 ] ], 
>    [ [ 2, "r", 1, 19, -1 ], [ 1, "rb", 1, 20 ] ], [ [ 2, "r", 1, 18, -1 ], [ 1, "rg", 1, 18 ] ], 
>    [ [ 2, "r", 1, 12, 1 ], [ 1, "rg", 1, 12 ] ], [ [ 2, "r", 1, 17, 1 ], [ 1, "rg", 1, 17 ] ], [ [ 2, "r", 2, 6, -1 ], [ 1, "rg", 2, 6 ] ], 
>    [ [ 1, "rb", 2, 3 ], [ 0, "b" ] ], [ [ 2, "r", 2, 11, 1 ], [ 1, "gb", 1, 1 ] ], [ [ 2, "r", 1, 9, 1 ], [ 1, "rg", 1, 9 ] ], 
>    [ [ 2, "r", 2, 5, -1 ], [ 1, "gb", 1, -1 ] ], [ [ 2, "r", 2, 7, 1 ], [ 1, "rb", 2, 7 ] ], [ [ 2, "r", 2, 15, 1 ], [ 1, "rg", 2, 15 ] ], 
>    [ [ 2, "r", 1, 8, -1 ], [ 1, "rg", 1, 8 ] ], [ [ 2, "r", 1, 7, -1 ], [ 1, "gb", 2, 1 ] ], [ [ 2, "r", 1, 14, -1 ], [ 1, "rg", 1, 14 ] ], 
>    [ [ 2, "r", 1, 13, -1 ], [ 1, "rg", 1, 13 ] ], [ [ 2, "r", 1, 5, -1 ], [ 1, "rg", 1, 5 ] ], [ [ 2, "r", 1, 11, -1 ], [ 1, "rb", 1, 12 ] ]
>      , [ [ 2, "r", 1, 16, 1 ], [ 1, "rg", 1, 16 ] ], [ [ 2, "r", 2, 15, -1 ], [ 1, "rb", 2, 16 ] ], 
>    [ [ 2, "r", 2, 10, -1 ], [ 1, "rg", 2, 10 ] ], [ [ 2, "r", 2, 7, -1 ], [ 1, "rb", 2, 8 ] ], [ [ 2, "r", 1, 6, 1 ], [ 1, "rb", 1, 6 ] ], 
>    [ [ 2, "r", 1, 16, -1 ], [ 1, "rb", 1, 17 ] ], [ [ 2, "r", 1, 17, -1 ], [ 1, "rb", 1, 18 ] ], 
>    [ [ 2, "r", 2, 12, -1 ], [ 1, "rg", 2, 12 ] ], [ [ 2, "r", 1, 1, 1 ], [ 1, "rb", 1, 1 ] ], [ [ 2, "r", 1, 4, 1 ], [ 1, "rb", 1, 4 ] ], 
>    [ [ 2, "r", 2, 1, -1 ], [ 1, "rb", 2, 2 ] ], [ [ 2, "r", 2, 13, -1 ], [ 1, "rb", 2, 14 ] ], [ [ 2, "r", 1, 19, 1 ], [ 1, "rb", 1, 19 ] ],
>    [ [ 2, "r", 1, 15, -1 ], [ 1, "rb", 1, 16 ] ], [ [ 2, "r", 1, 12, -1 ], [ 1, "rb", 1, 13 ] ], [ [ 2, "r", 1, 8, 1 ], [ 1, "rb", 1, 8 ] ],
>    [ [ 2, "r", 1, 7, 1 ], [ 1, "rb", 1, 7 ] ], [ [ 2, "r", 2, 9, -1 ], [ 1, "rg", 2, 9 ] ], [ [ 2, "r", 2, 11, -1 ], [ 1, "rb", 2, 12 ] ], 
>    [ [ 2, "r", 2, 14, -1 ], [ 1, "rg", 2, 14 ] ], [ [ 2, "r", 1, 1, -1 ], [ 1, "rb", 1, 2 ] ], [ [ 2, "r", 2, 16, 1 ], [ 1, "rg", 2, 16 ] ],
>    [ [ 2, "r", 1, 2, 1 ], [ 1, "rg", 1, 2 ] ], [ [ 2, "r", 2, 13, 1 ], [ 1, "rb", 2, 13 ] ], [ [ 2, "r", 1, 11, 1 ], [ 1, "rb", 1, 11 ] ], 
>    [ [ 2, "r", 1, 15, 1 ], [ 1, "rg", 1, 15 ] ], [ [ 2, "r", 2, 10, 1 ], [ 1, "rb", 2, 10 ] ], [ [ 2, "r", 2, 3, -1 ], [ 1, "rb", 2, 4 ] ], 
>    [ [ 2, "r", 2, 3, 1 ], [ 1, "rg", 2, 3 ] ], [ [ 2, "r", 2, 4, 1 ], [ 1, "rg", 2, 4 ] ], [ [ 2, "r", 2, 1, 1 ], [ 1, "rg", 2, 1 ] ], 
>    [ [ 2, "r", 1, 3, -1 ], [ 1, "rg", 1, 3 ] ], [ [ 2, "r", 1, 4, -1 ], [ 1, "rg", 1, 4 ] ], [ [ 2, "r", 1, 6, -1 ], [ 1, "rg", 1, 6 ] ], 
>    [ [ 2, "r", 2, 8, 1 ], [ 1, "rg", 2, 8 ] ], [ [ 2, "r", 2, 16, -1 ], [ 1, "rb", 2, 1 ] ], [ [ 2, "r", 1, 14, 1 ], [ 1, "rb", 1, 14 ] ]];; # A matching obtained using GreedySpanningMatching
gap> G1 := SimplifiedFpGroup(MorsePresentation(G,M));
<fp group of size infinity on the generators [ f11, f12 ]>
gap> RelatorsOfFpGroup(G1);
[ f12*f11*f12^-1*f11^-1 ]
